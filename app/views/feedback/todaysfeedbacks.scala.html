
@(active:List[(FeedbackSessions,FeedbackForms)],expired:List[FeedbackSessions])(implicit request: Request[_], messages: Messages, flash: Flash)

@main("Feedbacks") {

  <div class="row">
    <div class="col-md-2" ></div>
    <div class="col-md-8 feedback-form-display-container">
      <div class="col-md-12 login-first test feedback-top-banner"></div>
      @if(active.nonEmpty){
        @for((sessions,feedbackForm)<- active){
          <div class="col-md-4">
            <div class="col-md-12">
              <div id='parent' style='width: 100% ;'>
                <div class="card-body">
                @defining(if(sessions.meetup) "Meetup" else "Knolx" ) { sessionType =>
                  <div class="feedback-card-head stick-out"><i class="fa fa-list-alt feedback-display-logo" aria-hidden="true"></i></div>
                    <div class="col-md-12 feedback-card-topic"><p>@sessions.topic</p></div>
                    <div class="col-md-12 feedback-card-by">by</div>
                  <div class="col-md-12 feedback-card-author"><p>@sessions.email</p></div>
                  <button type="button" class="btn  feedback-card-button">Fill Out</button>
                  <div class="col-md-12 feedback-card-author more"><p onclick='opener("{\"topic\":\"@sessions.topic\",\"author\":\"@sessions.email\",\"session\":\"@sessions.session\",\"scheduled\":\"@sessions.date\",\"expire\":\"@sessions.expirationDate\",\"sessiontype\":\"@sessionType\"}")'>More...</p></div>
                </div>
              </div>
            </div>
          </div>}
        }
      }else{
      @for(expiredSession<- expired) {
        <div class="col-md-4">
          <div class="col-md-12">
            <div id='parent' style='width: 100% ;'>
              <div class="card-body">
                @defining(if(expiredSession.meetup) "Meetup" else "Knolx" ) { sessionType =>
                <div class="feedback-card-head stick-out  expired-details-button"><i class="fa fa-list-alt feedback-display-logo expired-details-button" aria-hidden="true"></i></div>
                <div class="session-content">
                  <div class="col-md-12 feedback-card-topic expired"><p>@expiredSession.topic</p></div>
                  <div class="col-md-12 feedback-card-by">by</div>
                  <div class="col-md-12 feedback-card-author expire-color"><p>@expiredSession.email</p></div>
                </div>
                <button type="button" class="btn  feedback-card-expire-button expired">Expired</button>
                <div class="col-md-12 feedback-card-author more"><p onclick='opener("{\"topic\":\"@expiredSession.topic\",\"author\":\"@expiredSession.email\",\"session\":\"@expiredSession.session\",\"scheduled\":\"@expiredSession.date\",\"expire\":\"@expiredSession.expirationDate\",\"sessiontype\":\"@sessionType\"}");expire()'>More...</p></div>
                </div>
            </div>
          </div>
        </div>}
         }
      }
      <div class="col-md-12 feedback-footer"></div>
    </div>
    <div class="col-md-2" ></div>
  </div>

  <div class="modal fade" id="session-detail-info" role="dialog">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header session-modal-title" id="feedback-info-modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title" id="session-topic" ></h4>
        </div>
        <div class="modal-body session-information-modal">
            <table class="table table-striped session-table">
              <tbody class="session-details">
                <tr>
                  <td>Presenter<br/><span class="session-card-values" id="author" ></span></td>
                </tr>
                <tr>
                  <td>Session<br/><span class="session-card-values" id="session">Session 1</span></td>
                </tr>
                <tr>
                  <td>scheduled<br/><span class="session-card-values" id="scheduled"></span></td>
                </tr>
                <tr>
                  <td>Expiration<br/><span class="session-card-values" id="expire"></span></td>
                </tr>
                <tr>
                  <td>Type<br/><span class="session-card-values" id="sessiontype"></span></td>
                </tr>
              </tbody>
            </table>
        </div>
        <div class="modal-footer session-modal-footer">
          <button type="button" class="btn btn-default session-modal-footer-btn" id='session-modal-footer-btn' data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script src="@routes.Assets.versioned("javascripts/todayssessioninfo.js")" type="text/javascript"></script>


}

